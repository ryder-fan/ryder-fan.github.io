### 问题陈述

我们需要计算以下不定积分：

\[
\int \sqrt{(x^2 - a^2)^3} \, dx
\]

### 第一步：简化被积函数

首先，观察被积函数 \(\sqrt{(x^2 - a^2)^3}\)。可以将其重写为：

\[
\sqrt{(x^2 - a^2)^3} = (x^2 - a^2)^{3/2}
\]

因此，积分可以表示为：

\[
\int (x^2 - a^2)^{3/2} \, dx
\]

### 第二步：选择合适的积分方法

对于包含 \(\sqrt{x^2 - a^2}\) 或 \((x^2 - a^2)^{n/2}\) 形式的积分，通常可以考虑以下方法：

1. **三角换元**：设 \(x = a \sec \theta\)，因为 \(\sec^2 \theta - 1 = \tan^2 \theta\) 可以简化 \(x^2 - a^2\)。
2. **双曲函数换元**：设 \(x = a \cosh t\)，因为 \(\cosh^2 t - 1 = \sinh^2 t\)。
3. **直接积分**：如果可能，尝试通过代数恒等变形直接积分。

在这里，三角换元看起来是一个合理的选择。

### 第三步：进行三角换元

设：

\[
x = a \sec \theta \quad \Rightarrow \quad dx = a \sec \theta \tan \theta \, d\theta
\]

然后：

\[
x^2 - a^2 = a^2 \sec^2 \theta - a^2 = a^2 (\sec^2 \theta - 1) = a^2 \tan^2 \theta
\]

因此：

\[
(x^2 - a^2)^{3/2} = (a^2 \tan^2 \theta)^{3/2} = a^3 \tan^3 \theta
\]

于是，积分变为：

\[
\int a^3 \tan^3 \theta \cdot a \sec \theta \tan \theta \, d\theta = a^4 \int \tan^4 \theta \sec \theta \, d\theta
\]

### 第四步：简化积分表达式

现在需要计算：

\[
\int \tan^4 \theta \sec \theta \, d\theta
\]

可以利用三角恒等式 \(\tan^2 \theta = \sec^2 \theta - 1\)：

\[
\tan^4 \theta = (\tan^2 \theta)^2 = (\sec^2 \theta - 1)^2 = \sec^4 \theta - 2 \sec^2 \theta + 1
\]

因此：

\[
\int \tan^4 \theta \sec \theta \, d\theta = \int (\sec^4 \theta - 2 \sec^2 \theta + 1) \sec \theta \, d\theta = \int (\sec^5 \theta - 2 \sec^3 \theta + \sec \theta) \, d\theta
\]

这看起来比较复杂，可能需要分别积分 \(\sec^5 \theta\), \(\sec^3 \theta\), 和 \(\sec \theta\)。

### 第五步：积分 \(\sec^n \theta\) 的递推

积分 \(\sec^n \theta\) 可以通过递推公式来计算。已知：

\[
\int \sec \theta \, d\theta = \ln |\sec \theta + \tan \theta| + C
\]

\[
\int \sec^3 \theta \, d\theta = \frac{1}{2} \sec \theta \tan \theta + \frac{1}{2} \ln |\sec \theta + \tan \theta| + C
\]

对于 \(\sec^5 \theta\)，可以使用递推公式：

\[
\int \sec^n \theta \, d\theta = \frac{\sec^{n-2} \theta \tan \theta}{n-1} + \frac{n-2}{n-1} \int \sec^{n-2} \theta \, d\theta
\]

因此：

\[
\int \sec^5 \theta \, d\theta = \frac{\sec^3 \theta \tan \theta}{4} + \frac{3}{4} \int \sec^3 \theta \, d\theta
\]

将已知的 \(\int \sec^3 \theta \, d\theta\) 代入：

\[
\int \sec^5 \theta \, d\theta = \frac{\sec^3 \theta \tan \theta}{4} + \frac{3}{4} \left( \frac{1}{2} \sec \theta \tan \theta + \frac{1}{2} \ln |\sec \theta + \tan \theta| \right ) + C
\]

### 第六步：合并所有部分

现在，将各部分合并：

\[
\int (\sec^5 \theta - 2 \sec^3 \theta + \sec \theta) \, d\theta = \left( \frac{\sec^3 \theta \tan \theta}{4} + \frac{3}{8} \sec \theta \tan \theta + \frac{3}{8} \ln |\sec \theta + \tan \theta| \right ) - 2 \left( \frac{1}{2} \sec \theta \tan \theta + \frac{1}{2} \ln |\sec \theta + \tan \theta| \right ) + \ln |\sec \theta + \tan \theta| + C
\]

简化：

\[
= \frac{\sec^3 \theta \tan \theta}{4} + \frac{3}{8} \sec \theta \tan \theta - \sec \theta \tan \theta + \frac{3}{8} \ln |\sec \theta + \tan \theta| - \ln |\sec \theta + \tan \theta| + \ln |\sec \theta + \tan \theta| + C
\]

合并同类项：

- \(\sec \theta \tan \theta\) 项：

  \(\frac{3}{8} - 1 = -\frac{5}{8}\)

- \(\ln |\sec \theta + \tan \theta|\) 项：

  \(\frac{3}{8} - 1 + 1 = \frac{3}{8}\)

因此：

\[
= \frac{\sec^3 \theta \tan \theta}{4} - \frac{5}{8} \sec \theta \tan \theta + \frac{3}{8} \ln |\sec \theta + \tan \theta| + C
\]

### 第七步：将 \(\theta\) 换回 \(x\)

回忆我们的换元：

\[
x = a \sec \theta \quad \Rightarrow \quad \sec \theta = \frac{x}{a}, \quad \tan \theta = \frac{\sqrt{x^2 - a^2}}{a}
\]

因此：

\[
\sec^3 \theta \tan \theta = \left( \frac{x}{a} \right )^3 \cdot \frac{\sqrt{x^2 - a^2}}{a} = \frac{x^3 \sqrt{x^2 - a^2}}{a^4}
\]

\[
\sec \theta \tan \theta = \frac{x}{a} \cdot \frac{\sqrt{x^2 - a^2}}{a} = \frac{x \sqrt{x^2 - a^2}}{a^2}
\]

\[
\ln |\sec \theta + \tan \theta| = \ln \left| \frac{x}{a} + \frac{\sqrt{x^2 - a^2}}{a} \right| = \ln \left| \frac{x + \sqrt{x^2 - a^2}}{a} \right| = \ln |x + \sqrt{x^2 - a^2}| - \ln a
\]

将所有这些代入：

\[
a^4 \left( \frac{\frac{x^3 \sqrt{x^2 - a^2}}{a^4}}{4} - \frac{5}{8} \cdot \frac{x \sqrt{x^2 - a^2}}{a^2} + \frac{3}{8} \left( \ln |x + \sqrt{x^2 - a^2}| - \ln a \right ) \right ) + C
\]

简化：

\[
= a^4 \left( \frac{x^3 \sqrt{x^2 - a^2}}{4 a^4} - \frac{5 x \sqrt{x^2 - a^2}}{8 a^2} + \frac{3}{8} \ln |x + \sqrt{x^2 - a^2}| - \frac{3}{8} \ln a \right ) + C
\]

\[
= \frac{x^3 \sqrt{x^2 - a^2}}{4} - \frac{5 a^2 x \sqrt{x^2 - a^2}}{8} + \frac{3 a^4}{8} \ln |x + \sqrt{x^2 - a^2}| - \frac{3 a^4}{8} \ln a + C
\]

可以将常数项合并：

\[
= \frac{x^3 \sqrt{x^2 - a^2}}{4} - \frac{5 a^2 x \sqrt{x^2 - a^2}}{8} + \frac{3 a^4}{8} \ln |x + \sqrt{x^2 - a^2}| + C'
\]

其中 \(C' = C - \frac{3 a^4}{8} \ln a\) 是新的常数。

### 第八步：进一步简化

可以合并前两项：

\[
\frac{x^3 \sqrt{x^2 - a^2}}{4} - \frac{5 a^2 x \sqrt{x^2 - a^2}}{8} = \left( \frac{x^3}{4} - \frac{5 a^2 x}{8} \right ) \sqrt{x^2 - a^2} = \frac{2 x^3 - 5 a^2 x}{8} \sqrt{x^2 - a^2}
\]

因此，最终结果为：

\[
\int \sqrt{(x^2 - a^2)^3} \, dx = \frac{2 x^3 - 5 a^2 x}{8} \sqrt{x^2 - a^2} + \frac{3 a^4}{8} \ln |x + \sqrt{x^2 - a^2}| + C
\]

### 验证

为了验证这个结果的正确性，我们可以对其进行微分，看看是否能得到原被积函数。

设：

\[
F(x) = \frac{2 x^3 - 5 a^2 x}{8} \sqrt{x^2 - a^2} + \frac{3 a^4}{8} \ln |x + \sqrt{x^2 - a^2}| + C
\]

计算 \(F'(x)\)：

第一部分：

\[
\frac{d}{dx} \left[ \frac{2 x^3 - 5 a^2 x}{8} \sqrt{x^2 - a^2} \right ] = \frac{6 x^2 - 5 a^2}{8} \sqrt{x^2 - a^2} + \frac{2 x^3 - 5 a^2 x}{8} \cdot \frac{x}{\sqrt{x^2 - a^2}}
\]

第二部分：

\[
\frac{d}{dx} \left[ \frac{3 a^4}{8} \ln |x + \sqrt{x^2 - a^2}| \right ] = \frac{3 a^4}{8} \cdot \frac{1 + \frac{x}{\sqrt{x^2 - a^2}}}{x + \sqrt{x^2 - a^2}} = \frac{3 a^4}{8} \cdot \frac{\sqrt{x^2 - a^2} + x}{(x + \sqrt{x^2 - a^2}) \sqrt{x^2 - a^2}} = \frac{3 a^4}{8 \sqrt{x^2 - a^2}}
\]

合并：

\[
F'(x) = \frac{6 x^2 - 5 a^2}{8} \sqrt{x^2 - a^2} + \frac{2 x^4 - 5 a^2 x^2}{8 \sqrt{x^2 - a^2}} + \frac{3 a^4}{8 \sqrt{x^2 - a^2}}
\]

将所有项通分到分母 \(8 \sqrt{x^2 - a^2}\)：

\[
= \frac{(6 x^2 - 5 a^2)(x^2 - a^2) + 2 x^4 - 5 a^2 x^2 + 3 a^4}{8 \sqrt{x^2 - a^2}}
\]

展开分子：

\[
(6 x^2 - 5 a^2)(x^2 - a^2) = 6 x^4 - 6 a^2 x^2 - 5 a^2 x^2 + 5 a^4 = 6 x^4 - 11 a^2 x^2 + 5 a^4
\]

因此：

\[
= \frac{6 x^4 - 11 a^2 x^2 + 5 a^4 + 2 x^4 - 5 a^2 x^2 + 3 a^4}{8 \sqrt{x^2 - a^2}} = \frac{8 x^4 - 16 a^2 x^2 + 8 a^4}{8 \sqrt{x^2 - a^2}} = \frac{8 (x^4 - 2 a^2 x^2 + a^4)}{8 \sqrt{x^2 - a^2}} = \frac{(x^2 - a^2)^2}{\sqrt{x^2 - a^2}} = (x^2 - a^2)^{3/2}
\]

这正是原被积函数，因此我们的积分结果是正确的。

### 最终答案

\[
\int \sqrt{(x^2 - a^2)^3} \, dx = \frac{2 x^3 - 5 a^2 x}{8} \sqrt{x^2 - a^2} + \frac{3 a^4}{8} \ln \left| x + \sqrt{x^2 - a^2} \right| + C
\]

或者，可以进一步因式分解：

\[
\frac{2 x^3 - 5 a^2 x}{8} = \frac{x (2 x^2 - 5 a^2)}{8}
\]

因此，也可以表示为：

\[
\int \sqrt{(x^2 - a^2)^3} \, dx = \frac{x (2 x^2 - 5 a^2)}{8} \sqrt{x^2 - a^2} + \frac{3 a^4}{8} \ln \left| x + \sqrt{x^2 - a^2} \right| + C
\]

### 可能的简化或替代方法

在最初的步骤中，我们选择了三角换元 \(x = a \sec \theta\)。另一种方法是尝试分部积分。让我们尝试：

设：

\[
I = \int (x^2 - a^2)^{3/2} \, dx
\]

设 \(u = (x^2 - a^2)^{3/2}\), \(dv = dx\)，则 \(du = \frac{3}{2} (x^2 - a^2)^{1/2} \cdot 2x \, dx = 3 x (x^2 - a^2)^{1/2} \, dx\), \(v = x\)。

分部积分公式：

\[
I = u v - \int v \, du = x (x^2 - a^2)^{3/2} - \int x \cdot 3 x (x^2 - a^2)^{1/2} \, dx = x (x^2 - a^2)^{3/2} - 3 \int x^2 (x^2 - a^2)^{1/2} \, dx
\]

现在需要计算 \(\int x^2 \sqrt{x^2 - a^2} \, dx\)。可以再次使用分部积分：

设 \(u = \sqrt{x^2 - a^2}\), \(dv = x^2 \, dx\)，则 \(du = \frac{x}{\sqrt{x^2 - a^2}} \, dx\), \(v = \frac{x^3}{3}\)。

\[
\int x^2 \sqrt{x^2 - a^2} \, dx = \frac{x^3}{3} \sqrt{x^2 - a^2} - \int \frac{x^3}{3} \cdot \frac{x}{\sqrt{x^2 - a^2}} \, dx = \frac{x^3}{3} \sqrt{x^2 - a^2} - \frac{1}{3} \int \frac{x^4}{\sqrt{x^2 - a^2}} \, dx
\]

看起来这种方法会导致更复杂的积分。因此，三角换元可能是更直接的方法。

### 结论

经过上述步骤和验证，最终的不定积分结果为：

\[
\int \sqrt{(x^2 - a^2)^3} \, dx = \frac{x (2 x^2 - 5 a^2)}{8} \sqrt{x^2 - a^2} + \frac{3 a^4}{8} \ln \left| x + \sqrt{x^2 - a^2} \right| + C
\]

其中 \(C\) 为积分常数。